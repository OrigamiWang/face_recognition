<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
<button style="width: 200px; height: 200px; background-color: red; color: white; font-weight: bold; font-size: 20px"
        onclick="init()">click me to get the name array
</button>
<button style="width: 200px; height: 200px; background-color: red; color: white; font-weight: bold; font-size: 20px"
        onclick="getBlob()">click me to show the data
</button>
<script>
    let arr

    async function init() {
        await fetch('http://localhost:5000/data')
            .then(response => response.text())
            .then(data => data.split(','))
            .then (res => arr = res)
        console.log(arr)
    }
    const blob_arr = []
    async function getBlob() {
        // let data = await axios.get('http://localhost:5000/img'); // 等待 axios 的结果
        // console.log(data.data)
        await fetch('http://43.139.5.93:9090/facerecognition/wyx.jpg')
            .then(response => response.blob())
            .then(file_blob => {
                let img_blob = new Blob([file_blob], {type: "image/jpeg"})
                console.log(img_blob)
                let img_url = URL.createObjectURL(img_blob)
                console.log(img_url)
            })
    }

</script>
</body>
</html>